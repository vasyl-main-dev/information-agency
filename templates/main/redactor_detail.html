{% extends "base.html" %}

{% block content %}
<div class="container mt-4">

  <div class="custom-card p-4 shadow fade-in">

    <div class="d-flex align-items-center mb-4">
      <img src="https://api.dicebear.com/6.x/thumbs/svg?seed={{ redactor.username }}"
           class="avatar-lg" alt="avatar">

      <div>
        <h2 class="fw-bold mb-1">{{ redactor.username }}</h2>
        <p class="hero-subtitle mb-1">
          {{ redactor.first_name }} {{ redactor.last_name }}
        </p>
        <p class="news-meta mb-3">
          Experience: {{ redactor.year_of_experience }} years
        </p>

        <div class="d-flex flex-wrap gap-2">
          <a href="{% url 'main:redactor-list' %}" class="btn btn-secondary me-2 mb-2">
            ‚Üê Back
          </a>

          {% if user == redactor %}
            <a href="{% url 'main:redactor-delete' redactor.id %}"
               class="btn btn-danger mb-2">
              Delete my account
            </a>
          {% endif %}
        </div>
      </div>
    </div>

    <hr>

    <h4 class="mt-3 mb-3">üì∞ Published Newspapers</h4>

    {% if redactor.newspapers.all %}
      <div class="table-card">
        {% for news in redactor.newspapers.all %}
          <div class="table-card-row">
            <div>
              <a href="{% url 'main:newspaper-detail' news.id %}"
                 class="news-title text-decoration-none">
                {{ news.title }}
              </a>
            </div>
            <div class="row-date">
              {{ news.published_date }}
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="empty-state">This redactor hasn't published anything yet.</p>
    {% endif %}
  </div>

</div>
{% endblock %}
